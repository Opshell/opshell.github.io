---
title: Day24 - giscus
author: Opshell
createdAt: '2024-09-25'
categories:
  - vitepress-thirty-days
tags:
  - éµäººè³½
  - VitePress
editLink: true
isPublished: true
refer:
  - 'https://site.quteam.com/technology/front-end/vitepress-comment/'
  - >-
    https://wenlei.wang/life-doc/view/temp/%E5%B7%A5%E5%85%B7/%E6%89%93%E9%80%A0%E7%AB%99%E7%82%B9/%E7%AB%99%E7%82%B9%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F.html#giscus
image: ''
description: ''
keywords: ''
---
![banner24](https://ithelp.ithome.com.tw/upload/images/20240925/20109918OCbos8fHO8.png)

é€²å…¥äº† stage 5 æ…¢æ…¢çš„ä¹Ÿæ¥è¿‘è³½å­£çš„å°¾è²å•¦ï¼Œåšéƒ¨è½æ ¼é™¤äº†åˆ†äº«ä»¥å¤–ï¼Œä¹Ÿæƒ³è¦æœ‰äº¤æµè¨è«–ï¼Œå’Œå¤§å®¶äº¤äº¤æœ‹å‹ï¼Œæ‰€ä»¥åœ¨æˆ‘å€‘çš„æ–‡ç« ä¸­éœ€è¦å€‹è©•è«–çš„åŠŸèƒ½ã€‚

## è©•è«–ç³»çµ±é¸å‹ï¼š
å¸‚é¢ä¸Šæœ‰å¾ˆå¤šè©•è«–ç³»çµ±ï¼š
- Waline
- Artalk
- Twikoo
- gitalk
- utterances
- giscus

æ—¢ç„¶æˆ‘å€‘éƒ½æ˜¯ç°¡æ˜“å‹çš„éƒ¨è½æ ¼äº†ï¼Œå…ˆåˆªæ‰ä¸€äº›éœ€è¦éƒ¨ç½²å¾Œç«¯çš„ï¼Œå‰©ä¸‹ä¾†çš„å¹¾å€‹åŸºæœ¬éƒ½æ˜¯ä¾è³´ `GitHub` çš„ï¼Œ `gitalk`ã€`utterances`ã€`giscus`ã€‚
è€Œ `gitalk`ã€`utterances` éƒ½æ˜¯å»ºç«‹åœ¨ `GitHub Issue`ï¼Œè€Œ `giscus` å‰‡æ˜¯åˆ©ç”¨ `GitHub Discussions` ä¾†å¯¦è¸è©•è«–åŠŸèƒ½ï¼Œè©•è«–åŠŸèƒ½å°±æ˜¯æ‹¿ä¾†è¨è«–çš„ï¼Œæ‰€ä»¥å°±é¸ `giscus` äº†ã€‚

ç•¶ç„¶ï¼Œä»–é‚„æœ‰ä¸€äº› Opshell å¾ˆå–œæ­¡çš„å„ªå‹¢(å®˜ç¶²èªªçš„)ï¼š
1. é–‹æ”¾åŸå§‹ç¢¼ã€‚ğŸŒ
2. ç„¡è¿½è¹¤ï¼Œç„¡å»£å‘Šï¼Œæ°¸ä¹…å…è²»ã€‚ğŸ“¡ ğŸš«
3. ç„¡éœ€è³‡æ–™åº«ã€‚å…¨éƒ¨è³‡æ–™å‡å„²å­˜åœ¨ GitHub Discussions ä¸­ã€‚:octocat:
4. æ”¯æ´è‡ªè¨‚ä½ˆæ™¯ä¸»é¡Œï¼ğŸŒ—
5. æ”¯æ´å¤šèªè¨€ã€‚ğŸŒ
6. é«˜åº¦å½ˆæ€§ã€‚ğŸ”§
7. è‡ªå‹•å¾ GitHub å–å¾—æ–°ç•™è¨€ï¼ˆåŒ…å«ç·¨è¼¯ï¼‰ã€‚ğŸ”ƒ
8. å¯è‡ªæ¶ä¼ºæœå™¨ï¼ğŸ¤³

## giscus å®‰è£ã€è¨­å®š
è«‹åˆ°[é€™é‚Š](https://giscus.app/zh-TW)

### 1. å°ˆæ¡ˆçš„ç§æœ‰åº¦éœ€è¦æ˜¯ `public`
### 2. é–‹å•Ÿå°ˆæ¡ˆçš„ `Github Discussions`
åœ¨å°ˆæ¡ˆçš„ Settings -> General -> Features -> Discussions ä¸­é–‹å•“ Discussions åŠŸèƒ½
![Discussions day24-giscus-2](https://ithelp.ithome.com.tw/upload/images/20240925/20109918xvqwIUOy4K.png)
![Discussions day24-giscus-2-1](https://ithelp.ithome.com.tw/upload/images/20240925/201099183BMKByPwJ4.png)

### 3. å®‰è£ [giscus App](https://github.com/apps/giscus)
æŒ‰ç…§ `GitHub OAuth` æµç¨‹æˆæ¬Š `giscus app`ï¼Œæˆæ¬Šéœ€è¦è©•è«–çš„å°ˆæ¡ˆã€‚
![Install giscus day24-giscus-3](https://ithelp.ithome.com.tw/upload/images/20240925/20109918IDafM3UJMM.png)

### 4. å–å¾— Giscus é…ç½®
æ‰“é–‹ Giscusï¼Œè¼¸å…¥å°ˆæ¡ˆåï¼Œç²å–é…ç½®ä¿¡æ¯ï¼Œè‡ªå‹•ç²å¾—åˆ°é…ç½®æ–‡ä»¶ï¼Œä¸»è¦æ˜¯éœ€è¦ç²å¾— repo-id category-id
![Setting giscus day24-giscus-4](https://ithelp.ithome.com.tw/upload/images/20240925/20109918VBSE8PuMEE.png)
![Setting giscus day24-giscus-5](https://ithelp.ithome.com.tw/upload/images/20240925/20109918xsW77kyYsi.png)

### 5. giscus Component
åœ¨ `.vitepress/theme/components/orga/` ç›®éŒ„ä¸‹æ–°å¢ `giscusComment.vue`ï¼š

```vue
<script setup>
    import Giscus from '@giscus/vue';
    import { useData, useRoute } from 'vitepress';

    const route = useRoute();
    const { isDark } = useData();
</script>

<template>
    <div style="margin-top: 24px">
        <Giscus
            id="comments"
            :key="route.path"
            repo="Opshell/opshell.github.io"
            repoid="R_kgDOMjQqsg"
            category="Announcements"
            categoryid="DIC_kwDOMjQqss4Ch3dc"
            mapping="pathname"
            term="Welcome to giscus!"
            reactionsenabled="1"
            emitmetadata="0"
            inputposition="top"
            loading="lazy"
            lang="zh-TW"
            crossorigin="anonymous"
            :theme="isDark ? 'dark' : 'light'"
        />
    </div>
</template>
```

`:key="route.path"` ç”¨æ–¼åˆ·æ–°è©•è«–çµ„ä»¶ï¼Œä¿è­‰æ¯å€‹é é¢éƒ½æœ‰ç¨ç«‹çš„è©•è«–ã€‚
`:theme` ç”¨æ–¼æ ¹æ“šé é¢ä¸»é¡Œåˆ‡æ›è©•è«–ä¸»é¡Œã€‚

## ä½¿ç”¨ giscus Component
åœ¨ `docs/.vitepress/theme/layout/expandLayout.vue` ä¸­ä½¿ç”¨ `OrgaGiscusComment`ï¼š

```vue
<template>
    <Layout :class="[frontmatter.class]">
        <template #doc-before>
            ......
        </template>

        <template #doc-after>
            // [!code ++]
            <OrgaGiscusComment /> // [!code ++]
        </template> // [!code ++]

        <template #aside-ads-before>
            ......
        </template>
    </Layout>
</template>
```

æ­æ‹‰~~  é€™æ¨£å°±æœ‰è©•è«–ç³»çµ±å•¦~  å°±æ˜¯éœ€è¦ç™»å…¥Github å¸³è™Ÿæ‰å¯ä»¥ï¼Œä¸éå¤§å®¶éƒ½æ˜¯ç¢¼è¾²ï¼Œæœ‰å€‹ Github å¸³è™Ÿä¸éä»½å§~
