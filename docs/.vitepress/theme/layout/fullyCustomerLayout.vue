<script setup lang="ts">
import { useData } from 'vitepress';

// 1. å–å¾—è³‡æ–™
const { frontmatter, page, isDark } = useData();

// ç°¡å–®çš„åˆ‡æ›æ·±è‰²æ¨¡å¼æ¸¬è©¦
const toggleDark = () => isDark.value = !isDark.value;
</script>

<template>
  <div class="my-custom-frame" :class="{ dark: isDark }">

    <header class="my-header">
      <div class="logo">Opshell's Space</div>
      <nav>
        <a href="/">Home</a>
        <a href="/tags-list">Tags</a>
        <button @click="toggleDark">{{ isDark ? 'ğŸŒ™' : 'â˜€ï¸' }}</button>
      </nav>
    </header>

    <main class="my-container">
      <div class="article-header">
        <h1 class="title">{{ frontmatter.title }}</h1>
        <div class="meta">
          <span>{{ frontmatter.author }}</span>
          <span>{{ frontmatter.createdAt }}</span>
        </div>
        <img v-if="frontmatter.image" :src="frontmatter.image" class="cover-img" />
      </div>

      <article class="markdown-body">
        <Content />
      </article>

      <footer class="my-footer">
        <p>é€™æ˜¯å®Œå…¨æ‰‹åˆ»çš„ Layoutï¼Œæ²’æœ‰ä½¿ç”¨ DefaultTheme</p>
      </footer>
    </main>

  </div>
</template>

<style lang="scss" scoped>
// é€™è£¡å¯ä»¥å®Œå…¨ä¸ç†æœƒ VitePress çš„è®Šæ•¸ï¼Œå¯«ä½ è‡ªå·±çš„ CSS
.my-custom-frame {
  min-height: 100vh;
  background: #fff;
  color: #333;
  &.dark {
    background: #1e1e1e;
    color: #eee;
  }
}

.my-container {
  max-width: 800px;
  margin: 0 auto;
  padding: 2rem;
}

.markdown-body {
  // é€™è£¡ä½ å¯ä»¥é‡å° Markdown ç”Ÿæˆçš„ HTML åšæ¨£å¼è¦†è“‹
  // ä¾‹å¦‚ h2, p, ul, li ç­‰ç­‰
  line-height: 1.8;
  font-size: 1.1rem;
}
</style>